package chess

class Hash(
    size: Int) {

  private def roleIndex(role: Role) = role match {
    case Pawn   => 0
    case Knight => 1
    case Bishop => 2
    case Rook   => 3
    case Queen  => 4
    case King   => 5
  }

  private def pieceIndex(piece: Piece) = piece.color match {
    case Black => roleIndex(piece.role) * 2
    case White => roleIndex(piece.role) * 2 + 1
  }

  private def posIndex(pos: Pos) =
    8 * (pos.y - 1) + (pos.x - 1)

  private def actorIndex(actor: Actor) =
    64 * pieceIndex(actor.piece) + posIndex(actor.pos)

  private def hexToBytes(str: String): PositionHash =
    str.grouped(2).map(cc =>
      (Character.digit(cc(0), 16) << 4 | Character.digit(cc(1), 16)).toByte
    ).toArray take size

  def apply(board: Board, color: Color): PositionHash = {
    val pieces = board.actors.values.map { a =>
      actorMasks(actorIndex(a))
    }

    val turn = color match {
      case Black => Array(zeroMask)
      case White => Array(whiteTurnMask)
    }

    val castling = (board.history.castles.toList zip castlingMasks).map {
      case (canCastle, castlingMask) =>
        if (canCastle) castlingMask else zeroMask
    }

    val crazyPromotions = board.crazyData match {
      case Some(data) =>
        (data.promoted.map {
          pos => crazyhousePromotionMasks(posIndex(pos))
        }).toArray
      case None =>
        Array(zeroMask)
    }

    // TODO: en passant
    // TODO: crazyhouse data

    val masks = pieces ++ turn ++ castling ++ crazyPromotions

    (masks.transpose.map { column =>
      column.reduce((a, b) => (a ^ b).toByte)
    }).toArray
  }

  val zeroMask = hexToBytes("00000000000000000000000000000000")

  val actorMasks = Array(
    "1ee0d1531f8fea9e9d39247e33776d41", "4d7aa848ddec26202af7398005aaa5c7",
    "caf307dcada8b79644db015024623547", "270155ebc8006e9d9c15f73e62a76ae2",
    "86a6b66097a0b3ce75834465489c0c89", "4756c87e501ef4163290ac3a203001bf",
    "35b47ab5940a90d40fbbad1f61042279", "8a7aa53a336665bfe83a908ff2fb60ca",
    "661efd42dd2aa4ba0d7e765d58755c10", "4c3c3af481f9abd01a083822ceafe02d",
    "a4710c57e1b8dde79605d5f0e25ec3b0", "e98f3a726eecc9c2d021ff5cd13a2ed5",
    "8e16baccfc88e55240bdf15d4a672e32", "55a4253f9ab14653011355146fd56395",
    "396162a04ed8eadc5db4832046f3d9e5", "6ea5ec7f41020944239f8b2d7ff719cc",
    "5824f371014b956305d1a1ae85b49aa1", "361fb779aff93845679f848f6e8fc971",
    "8c1a4d61a4a0360d7449bbff801fed0b", "b53b8d0587c55aad7d11cdb1c3b7adf0",
    "3af110d2cfa73d6b82c7709e781eb7cc", "33ebbb0550134494f3218f1c9510786c",
    "d15158f2741147bf331478f3af51bbe6", "d8095e1c2df776884bb38de5e7219443",
    "6598874b65eefd98aa649c6ebcfd50fc", "287c9caf8856a3b28dbd98a352afd40b",
    "a52c550b11b354ce87d2074b81d79217", "b38f11111ee7486719f3c751d3e92ae1",
    "a02d869f8cd6e467b4ab30f062b19abf", "a32d91fae16ecf357b0500ac42047ac4",
    "65d830cde32d5674c9452ca81a09d85d", "8fb9990f220314c224aa6c514da27500",
    "b604ae7470f850564c9f34427501b447", "d18830471eb6f8f214a68fd73c910841",
    "5a1365d471725c35a71b9b83461cbd93", "159ba67c0a3bd41703488b95b0f1850f",
    "7fab786a917a17a8637b2b34ff93c040", "4d91cde6ba51979a09d1bc9a3dd90a94",
    "5dd88d2dcae6406d3575668334a1dd3b", "31f20f251735ca9a735e2b97a4c45a23",
    "87d0b5ff2353a1b818727070f1bd400b", "55f8d3a2b73deda01fcbacd259bf02e7",
    "c3c6d7783799724ed310a7c2ce9b6555", "d193f77913a0b3b7bf983fe0fe5d8244",
    "2c4e4c65b80bd5539f74d14f7454a824", "ffa5ddf11b344cc051ebdc4ab9ba3035",
    "d8d9848dee574d425c82c505db9ab0fa", "5655854bfbaea1dbfcf7fe8a3430b241",
    "32b473e7ad67090e3253a729b9ba3dde", "15c934929cc1061f8c74c368081b3075",
    "880b14032d117f57b9bc6c87167c33e7", "c624b3068714a60e7ef48f2b83024e20",
    "69bd711a93275aac11d505d4c351bd7f", "e223f4ae015cbf256568fca92c76a243",
    "0c0a6cc6f7bb97864de0b0f40f32a7b8", "4064ce25adcd1bb896d693460cc37e5d",
    "113e2283c942cae042e240cb63689f2f", "11b4590fe9fec1546d2bdcdae2919661",
    "59f9d911e233e25042880b0236e4d951", "e7c2949e3d8b83f25f0f4a5898171bb6",
    "eb979caf5ce9e3e339f890f579f92f88", "0b29126c0f661b5b93c5b5f47356388b",
    "fdc2492b9864099e63dc359d8d231b78", "3d94eb7109e75d16ec16ca8aea98ad76",
    "9c07097424605b9c5355f900c2a82dc7", "9828a215e5b30bd307fb9f855a997142",
    "f4f654e1ad15100a5093417aa8a7ed5e", "86136156767b545c7bcbc38da25a7f3c",
    "867e8830acafaf1819fc8a768cf4b6d4", "8b51486a6b35b3c4637a7780decfc0d9",
    "5f991edb667a1c118249a47aee0e41f7", "8107ce4abeb6952a79ad695501e7d1e8",
    "54c84f10a8dc4e6b14acbaf4777d5776", "cc760df11fcc7e84f145b6beccdea195",
    "d4598c777bf67daddabf2ac8201752fc", "49265e9ec71a647d24c3c94df9c8d3f6",
    "490218a89ad8f402bb6e2924f03912ea", "5982370867eb77330ce26c0b95c980d9",
    "9c2758ee26d4bcbea49cd132bfbf7cc4", "4e10dcc325b78983e99d662af4243939",
    "f36c342417f90c1927e6ad7891165c3f", "679094b05722b5598535f040b9744ff1",
    "cb63d69d8b21c59154b3f4fa5f40d873", "c4e88e28c5d9c01372b12c32127fed2b",
    "fce9ce25d20d0fdfee954d3c7b411f47", "70d959a81e6075da9a85ac909a24eaa1",
    "57a04cc181e148be70ac4cd9f04f21f5", "09e83255ba1743caf9b89d3e99a075c2",
    "3bf708ce0e17976187b3e2b2b5c907b1", "4fb02ed8ac21505fa366e5b8c54f48b8",
    "f786167136562fb9ae4a9346cc3f7cf2", "0e7ad1ba2bb0d1761920c04d47267bbd",
    "c0d5aa6e7ef520bf87bf02c6b49e2ae9", "870dae1946212eb9092237ac237f3859",
    "a8d440d8d9f37ba0ff07f64ef8ed14d0", "6d65abc00a6f92088de8dca9f03cc54e",
    "becd11e6c83f9e5d9c1633264db49c89", "3f0721c534803944b3f22c3d0b0b38ed",
    "faecb38d18df8dbd390e5fb44d01144b", "5c14e27b2abdae4e5bfea5b4712768e9",
    "fe9066d00ec6a84f1e1032911fa78984", "9e55f0aa34195d589a74acb964e78cb3",
    "dcbea575df82e5b04f80f7a035dafb04", "f4bba14f6c249d466304d09a0b3738c4",
    "4b8f898a617360c12171e64683023a08", "ddb63aabb318fd7c5b9b63eb9ceff80c",
    "a474898c464b34f5506aacf489889342", "16f914894676acc11881afc9a3a701d6",
    "bd9ecda4806a762b6503080440750644", "dea8a6c80ee02904dfd395339cdbf4a7",
    "f9feb64250378ad2ef927dbcf00c20f2", "3f452c5eb8c349f87b32f7d1e03680ec",
    "2f0244259c33e326b9fd7620e7316243", "291d0e001c87377105a7e8a57db91b77",
    "07f9446276b370b3b5889c6e15630a75", "fe65ef0e5c52d9824a750a09ce9573f7",
    "99c5a193c7840c08cf464cec899a2f8a", "596004a45c910c70f538639ce705b824",
    "d9ea34da3a1a6f233c79a0ff5580ef7f", "e9f3689c1eff84c8ede6c87f8477609d",
    "9321056ede7eb331799e81f05bc93f31", "d62f5a16d2cd289686536b8cf3428a8c",
    "92f7b92a95a6429997d7374c60087b73", "a3d8f74db7b02bf1a246637cff328532",
    "60f1d0fbafe9bad6043fcae60cc0eba0", "13c9abfeb124487c920e449535dd359e",
    "71b7e832d35df37270eb093b15b290cc", "063dde8c9e86a48b73a1921916591cbd",
    "73be2a9eeea3db9c56436c9fe1a1aa8d", "07caaf93ae66e790efac4b70633b8f81",
    "9d3351012aeb361abb215798d45df7af", "bc16d9f4a732c00445f20042f24f1768",
    "42883fac108e9183930f80f4e8eb7462", "e41b997295694ef5ff6712ffcfd75ea1",
    "ef58bd295cffa5c9ae623fd67468aa70", "806abbba6b547ef7dd2c5bc84bc8d8fc",
    "1f96f251e613fde17eed120d54cf2dd9", "b3bd36d00ff9384b22fe545401165f1c",
    "85a788e0c010a5c7c91800e98fb99929", "e5d1f5c50fe98328808bd68e6ac10365",
    "a74eb36ca79ccef5dec468145b7605f6", "02780b0dfcda0b441bede3a3aef53302",
    "976347a507b6035043539603d6c55602", "44b569f9adf2e5a4aa969b5c691ccb7a",
    "802b4b257ebb26b4a87832d392efee56", "8c269460d858153965942c7b3c7e11ae",
    "9a2724f896ff998fded2d633cad004f6", "b8efa120e297676321f08570f420e565",
    "be0e2d69ef544556b415938d7da94e3c", "875bf494776f78ae91b859e59ecb6350",
    "5008707b322e783a10cff333e0ed804a", "d95c97eef806df5428aed140be0bb7dd",
    "a8a517c9597d1985c5cc1d89724fa456", "b35b03303d7c26325648f680f11a2741",
    "3d0074ebd5106bb62d255069f0b7dab3", "a81269e9adaf37b49bc5a38ef729abd4",
    "3edde79b636a9260ef2f054308f6a2bc", "2e5ce3809ebc8ef4af2042f5cc5c2858",
    "d7b9eb10f14afa10480412bab7f5be2a", "ea2b95f38e99d791aef3af4a563dfe43",
    "b41027563fb6061319afe59ae451497f", "ece5242b86674bd852593803dff1e840",
    "a5b4245509a56e33f4f076e65f2ce6f0", "26f3de6196fc302311379625747d5af3",
    "963b32daef2ddc91bce5d2248682c115", "20df04006585a4e49da4243de836994f",
    "0dd362236b794343066f70b33fe09017", "1d48f653762d68374dc4de189b671a1c",
    "8f5de71eaef530c351039ab7712457c3", "4f1cd90d596f5e0ac07a3f80c31fb4b4",
    "d856ac0d740dba16b46ee9c5e64a6e7c", "40a4bfb8b65b7568b3819a42abe61c87",
    "e5dfe4dc5d9df82d21a007933a522a20", "db9dd0c074120dce2df16f761598aa4f",
    "3e8e490251c6d19d763c4a1371b368fd", "61ecc13c102edd69f793c46702e086a0",
    "52b0321b63ce827cd7288e012aeb8d31", "e93791e0d5d56c63de336a2a4bc1c44b",
    "ab5a214f3f82895e0bf692b38d079f23", "71d80888bf4c165f2c604a7a177326b3",
    "6b176fb37d0d225d4850e73e03eb6064", "20497570b48b41a6cfc447f1e53c8e1b",
    "6fa477799cf8cb32b05ca3f564268d99", "626b39e26b912a609ae182c8bc9474e8",
    "75bf1115b21459e3a4fc4bd4fc5558ca", "04c79195542b72dde755178d58fc4e76",
    "f092a6a9ee87acf269b97db1a4c03dfe", "a4b3ea686154b2baf9b5b7c4acc67c96",
    "a069ae30ff73f3bffc6a82d64b8655fb", "d3c718ac891a15ba9c684cb6c4d24417",
    "fb12dd002927d0108ec97d2917456ed0", "0a460c947c38c8206703df9d2924e97e",
    "45501941c0b08f63c547f57e42a7444e", "13c4bda6c70f673478e37644e7cad29e",
    "f34a78512e8bc4fffe9a44e9362f05fa", "ad042e42db2c932a08bd35cc38336615",
    "a1cd0f30dcea23979315e5eb3a129ace", "0b412f879e127b2794061b871e04df75",
    "d953c5fe587bbc52df1d9f9d784ba010", "b70888d4a6268b363bba57b68871b59d",
    "4f0e45e4b3cbcd4ed2b7adeeded1f73f", "05cbed201864f691f7a255d83bc373f8",
    "086236be7a7212d2d7f4f2448c0ceb81", "cae98b62af5c3393d95be88cd210ffa7",
    "e9e808bd85f6513c336f52f8ff4728e7", "462e6660bacc1f50a74049dac312ac71",
    "27941bdf6db05048a2f61bb6e437fdb5", "2f6072dfcb735b0c4f2a5cb07f6a35b3",
    "8a6287f24aed077a87d380bda5bf7859", "f759fde7a9012f9016b9f7e06c453a21",
    "b8941ac210133b1d7ba2484c8a0fd54e", "480d616767dfbd09f3a678cad9a2e38c",
    "8ac6d24e84d0d6fe39b0bf7dde437ba2", "f722f1c796534213fcaf55c1bf8a4424",
    "236d9811724816cc18fcf680573fa594", "25e96c4b755f50a94c0563b89f495ac3",
    "b6d3b9cced6e76d740e087931a00930d", "5c9de422e7a8e4ca8cffa9412eb642c1",
    "45cadb9a5ea5d29168ca39053261169f", "cc3c62e5af81ded77a1ee967d27579e2",
    "d1a4abac43942ba09d1d60e5076f5b6f", "1c903f7ef595e4cb3810e399b6f65ba2",
    "4f612ec9ef8a9b3f32095b6d4ab5f9b1", "145c65461f137f5235cab62109dd038a",
    "43c6b4c5fdacfc74a90b24499fcfafb1", "41211c3ffa4a2dba77a225a07cc2c6bd",
    "bd09077a65f068f0513e5e634c70e331", "f190b5bec3a56c6b4361c0ca3f692f12",
    "0359500aa8ae00b7d941aca44b20a45b", "4bb7de3a58091aa4528f7c8602c5807b",
    "44d38675b241fc5552ab92beb9613989", "8604f0f9e7d81fc99d1dfa2efc557f73",
    "248c818e448d5f47722ff175f572c348", "e4643505d44aaa4f1d1260a51107fe97",
    "9d186947c5ca0f507a249a57ec0c9ba2", "ecdf1d6edefa0c8104208fe9e8f7f2d6",
    "e4d351f7f1c4c5ea5a110c6058b920a0", "563e39f6f8848e6b0cd9a497658a5698",
    "986f36c5f8be1b0256fd23c8f9715a4c", "e35c1c7d5c46da52284c847b9d887aae",
    "a5caef1f4cdee45b04feabfbbdb619cb", "c107f0fcc288a582742e1e651c60ba83",
    "ec34d885fa9274a79a9632e65904ad3c", "f967d02d47e19686881b82a13b51b9e2",
    "cf9712c7996693e9506e6744cd974924", "d6b0795ef7fe98f1b0183db56ffc6a79",
    "a08729beb3b9f18b0ed9b915c66ed37e", "25e599a708ace7fd5e11e86d5873d484",
    "9a0f0b75a4819371f678647e3519ac6e", "94ff69d46309270b1b85d488d0f20cc5",
    "46bbee309b513ccfdab9fe6525d89021", "51b1e946716b5a6d0d151d86adb73615",
    "277347a262bfc1dfa865a54edcc0f019", "a7616d885fa19b5793c42566aef98ffb",
    "6e53ffaaa4a9963899e7afeabe000731", "47b3d4fa341a729948cbff086ddf285a",
    "bc0b05a00d31aeca7f9b6af1ebf78baf", "180d59d3d6d88eac58627e1a149bba21",
    "ecad036b936661222cd16e2abd791e33", "10158f46343abd81d363eff5f0977996",
    "6fa295a1ed65205a0ce2a38c344a6eed", "030317bb5f1de8b71a804aadb9cfa741",
    "6b97121b13c14c82907f30421d78c5de", "351121e775b625c6501f65edb3034d07",
    "cf844d9e4b21125437624ae5a48fa6e9", "7208a8fe5e25533d957baf61700cff4e",
    "717f167f071e30cb3a6c27934e31188a", "2c0afc80644cb625d49503536abca345",
    "505c8abe075205fe088e049589c432e0", "3b9916eb4a8b67e6f943aee7febf21b8",
    "1d83b005baaf43166c3b8e3e336139d3", "3f7fd2d5b816f526364f6ffa464ee52e",
    "a01649c0d2e63df7d60f6dcedc314222", "bffdcc5f31ab5c0c56963b0dca418fc0",
    "fab293cf50ff725416f50edf91e513af", "bfb0dd163052c590ef1955914b609f93",
    "183977b00bacf547565601c0364e3228", "4a2dc7d0e51f2a6becb53939887e8175",
    "7a0a7ab89a258a6ebac7a9a18531294b", "6d75fc8734b26b6bb344c470397bba52",
    "02c1db8585e0016465d34954daf3cebd", "c30705425f8e6305b4b81b3fa97511e2",
    "0037b0f54f6c78bcb422061193d6f6a7", "ac2f7cdbab31f980071582401c38434d",
    "42b48c1e4268a70f7a13f18bbedc4ff5", "67d58d33f094c494bc4097b116c524d2",
    "0c7c8b6a8907e63259b97885e2f2ea28", "fc54bc774ccc922099170a5dc3115544",
    "9977b858f66323d76f423357e7c6a9f9", "b67103b38888f1db325928ee6e6f8794",
    "91377c33e83c01f1d0e4366228b03343", "3c91e0808417443d565c31f7de89ea27",
    "eda9759ae9a4062e30f5611484119414", "2c85fe485760ae5ed873db391292ed4f",
    "faa3374ee27082be7bd94e1d8e17debc", "eebed047bd6e2a83c7d9f16864a76e94",
    "1385b2c6422f50b2947ae053ee56e63c", "514fe7952f75eed1c8c93882f9475f5f",
    "acc441f81813de1f3a9bf55ba91f81ca", "def7a82a22a38fc7d9a11fbb3d9808e4",
    "aab1b17375dfc44b0fd22063edc29fca", "1c42019c4be5bab5b3f256d8aca0b0b9",
    "abcdeca6d75de224b03031a8b4516e84", "731857635f7cc32a35dd37d5871448af",
    "86d3c98ca98cd34ae9f6082b05542e4e", "2e25b4b3e946e0e3ebfafa33d7254b59",
    "d5ad52db889a3e729255abb50d532280", "63147ea8959ca75db9ab4ce57f2d34f3",
    "02477222f5270b00693501d628297551", "0cdeb63d59ed3f9bc62c58f97dd949bf",
    "7f2a1924d92ed7c8cd454f8f19c5126a", "f3b2ed1a3c70183bbbe83f4ecc2bdecb",
    "29ec4141e22ca324dc842b7e2819e230", "b70415e4a6803882ba89142e007503b8",
    "001a0aabe88dd5e2a3bc941d0a5061cb", "b45064b97ecbb60ce9f6760e32cd8021",
    "c95a650eacf21b7909c7e552bc76492f", "466c386bcc1051e7852f54934da55cc9",
    "f04cbec63598e66e8107fccf064fcf56", "e2840f9df842b428098954d51fff6580",
    "1223a8cfcb185d2923b70edb1955c4bf", "c8fd599e2bc0d9efc330de426430f69d",
    "92b39d449d9a4a134715ed43e8a45c0a", "c7d77290d08d6e9fa8d7e4dab780a08d",
    "996638b1c14547f30572b974f03ce0bb", "3d6111d9e57e24c0b57d2e985e1419c7",
    "22c6a3bddae48a18e8d9ecbe2cf3d73f", "353f826b9096dfbe2fe4b17170e59750",
    "d6213a33555113ba11317ba87905e790", "1c9cf5b96607bed87fbf21ec8a1f45ec",
    "ef65181792e6cd6e1725cabfcb045b00", "aee057c81d87c764964e915cd5e2b207",
    "ab937e86107a05463e2b8bcbf016d66d", "f2bcb7bcf0cba121be7444e39328a0ac",
    "36ba83b2eb86e9eff85b2b4fbcde44b7", "df4beb0fb559c38049353fea39ba63b1",
    "22f6b5d7790f8d2e1dd01aafcd53486a", "ef71f2f3072e4d341fca8a92fd719f85",
    "fce88c5c9d88640dfc7c95d827357afa", "76ce48ca8a02e7fb18a6a990c8b35ebd",
    "4fc8c85ec08f4e61cccb7005c6b9c28d", "4c7ce0d33acfbba63bdbb92c43b17f26",
    "ff69d4fa3808bff9aa70b5b4f89695a2", "91060c78ed3a4d77e94c39a54a98307f",
    "bbae7d742a36a88eb7a0b174cff6f36e", "b434b8e160d696aad4dba84729af48ad",
    "9a4b3423ea8061952e18bc1ad9704a68", "4ea649a824f4a0b42de0966daf2f8b1c",
    "6d4fd9c60f24e9f4b9c11d5b1e43a07e", "2fa13d717a139f7564972d68dee33360",
    "1e7899dad3a9f3e794628d38d0c20584", "2f08c12e8b2c773bdbc0d2b6ab90a559",
    "d8ea825b8879d9ddd2733c4335c6a72f", "a5b994b6c5ada9077e75d99d94a70f4d",
    "4be93d9ad9bbaf6c6ced1983376fa72b", "4d5f3871f1d02d0597fcaacbf030bc24",
    "befb2b764ef56d367b77497b32503b12", "291b6ac1cef170ef8547eddfb81ccb94",
    "ffb1c789d2cba44379999cdff70902cb", "1503e0da6f2a1440cffe1939438e9b24",
    "ff273f99e42d3869829626e3892d95d7", "dd4ed54a334d8b1892fae24291f2b3f1",
    "c7c4e3f8f35b173563e22c147b9c3403", "134a37c4c9de1dd8c678b6d860284a1c",
    "8bf5d6d9eebe2caa5873888850659ae7", "1a04151192c9fa0c0981dcd296a8736d",
    "9319fdf52cca17ad9f65789a6509a440", "d2c3f4790198d3499ff38fed72e9052f",
    "6bd140e05bc3902de479ee5b9930578c", "7d54c9d8bdb9d4b6e7f28ecd2d49eecd",
    "be320f81a20f0a9156c074a581ea17fe", "a15ab1daa360cf9e5544f7d774b14aef",
    "6e7d026e1159a3857b3f0195fc6f290f", "000d5c11be71dddd12153635b2c0cf57",
    "3bd929505782d0347f5126dbba5e0ca7", "ddb015b3489757d87a76956c3eafb413",
    "8f385754253764f23d5774a11d31ab39", "de1462f3f78621388a1b083821f40cb4",
    "dfb76fcccc785e8e7b4a38e32537df62", "74167571bab13c7e950113646d1d6e03",
    "95ba7e0e577d3b1a4da8979a0041e8a9", "2b7ec4a75d18c3e33bc36e078f7515d7",
    "0d9298e2489dc3555d0a12f27ad310d1", "182af05b3b34f7157f9d1a2e1ebe1327",
    "83eafa8e61e1e2eada3a361b1c5157b1", "00add5161975801adcdd7d20903d0c25",
    "f1b9e6406829c94e36833336d068f707", "25855a5dad68a5e2ce68341f79893389",
    "ac5e64cdccbccfaaab9090168dd05f34", "69ff4f8fdfafc16443954b3252dc25e5",
    "0ecc5d1bf6313a36b438c2b67f98e5e9", "69d021e7ca258c4f10dcd78e3851a492",
    "430e2bcc4712cbaadbc27ab5447822bf", "3091c376a783a4029b3cdb65f82ca382",
    "2d6431b0da1871e3b67b7896167b4c84", "51b940538ad5c6b5bfced1b0048eac50",
    "7d3fdb5a673a603ca9119b60369ffebd", "f9a7213c1ddbe6471fff7ac80904bf45",
    "f91993f743c0cf2dac12fb171817eee7", "2d3ab29a974ddc1baf08da9177dda93d",
    "2265859d29e8d5021b0cab936e65c744", "4ae5bc986d4d93d0b559eb1d04e5e932",
    "b3475a0487214cbcc37b45b3f8d6f2ba", "d485a45e6a02af30c3a9dc228caac9e9",
    "23eb5449a1f07372f3b8b6675a6507ff", "5fd45f22788019309fc477de4ed681da",
    "cdcd115925f86e1067378d8eccef96cb", "988c73be7291581b6dd856d94d259236",
    "22d65446457cbfc2a319ce15b0b4db31", "c7b98c35dd6304b0073973751f12dd5e",
    "12174c197cf21c7b8a8e849eb32781a5", "f7ebec98c6f1c8e4e1925c71285279f5",
    "003521279c750f0a74c04bf1790c0efe", "777e76fd9dd4efce4dda48153c94938a",
    "1cdc1dbc3d674fc39d266d6a1cc0542c", "38758a3bcdebc5677440fb816508c4fe",
    "7a8e73c24367151e13328503df48229f", "8d6de083add27cbad6bf7baee43cac40",
    "39864d834fd2df774838d65f6ef6748f", "727c6c8f2c4f67ce1e152328f3318dea",
    "88e08f87b4dfdc058f8419a348f296bf", "427b5c2c6d1a689272c8834a5957b511",
    "b088d27172997380d7a023a73260b45c", "84903855952c0c6d94ebc8abcfb56dae",
    "6629f5ae621c65229fc10d0f989993e0", "a7b3967a9c8e1284de68a2355b93cae6",
    "59193d7c8c582c7ca44cfe79ae538bbe", "010c0594ea4f58249d1d84fcce371425",
    "2f03849aedbc088351d2b1ab2ddfb636", "93ef64eb71a60c0a2fd7e4b9e72cd38c",
    "275019c981c79c0665ca5b96b7552210", "ab8f12f726b083fedd69a0d8ab3b546d",
    "9bba9846e3b1bc88604d51b25fbf70e2", "8ff6e05bee8e6c0673aa8a564fb7ac9e",
    "ff73158471a8eee71a8c1e992b941148", "bbbbe00b07e4e41aaac40a2703d9bea0",
    "c6747af200b37335764dbeae7fa4f3a6", "2cfe4c9b2caf66971e99b96e70a9be8b",
    "48c201719111eb882c5e9deb57ef4743", "3740786255545e253a938fee32d29981",
    "405a8324e86bc6b526e6db8ffdf5adfe", "7f3c83a7a7ad0ac9469356c504ec9f9d",
    "477218d45c7f256ec8763c5b08d1908c", "fdd649fb249e6e763f6c6af859d80055",
    "3a184fc5974c4d3b7f7cc39420a3a545", "43457e6f236d0d029bfb227ebdf4c5ce",
    "29fe4f655f56920789039d79d6fc5c5c", "9e5f8fa867e2e1b68fe88b57305e2ab6",
    "acfdad498358f360a09e8c8c35ab96de", "be8a189103be414dfa7e393983325753",
    "dd65e385de585b90d6b6d0ecc617c699", "a2281742d38b0b7adfea21ea9e7557e3",
    "8cee6b0204b796c6b67c1fa481680af8", "390ec9d3038049edca1e3785a9e724e5",
    "283d4482fb5fc6d81cfc8bed0d681639", "4812358f31559216d18d8549d140caea",
    "e7cde5ffa38d0a214ed0fe7e9dc91335", "efb6597d21cbfc9be4dbf0634473f5d2",
    "66cc4e53e1fa66731761f93a44d5aefe", "0e0cd1ea059bb61c53898e4c3910da55",
    "6576b4b50e6af2cd734de8181f6ec39a", "5e28112ae25104542680b122baa28d97",
    "7e20176e7bb4dc6d298af231c85bafab", "99f1ad0547ec0b407983eed3740847d5",
    "1b3c141f4e9dfc6c66c1a2a1a60cd889", "11ed2b103f56085a9e17e49642a3e4c1",
    "17dc1542383a64d6edb454e7badc0805", "e40050452e19f6ec50b704cab602c329",
    "2b1387463fc5e5db4cc317fb9cddd023", "dee9b373efc5978e66b4835d9eafea22",
    "f56eec002c19d291219b97e26ffc81bd", "1a05bd24bcd98540261e4e4c0a333a9d",
    "345471a60de4a7551fe2cca76517db90", "7b23367db6a8d1d1d7504dfa8816edbb",
    "4e8cc62d9a65cac6b9571fa04dc089c8", "f69896bd93b519111ddc0325259b27de",
    "962455a2a97f58a8cf3f4688801eb9aa", "e1d114f09e3b11c5f4f5d05c10cab243",
    "64ef502e9a2125cf38b6525c21a42b0e", "f22e186596839d8b36f60e2ba4fa6800",
    "31f7401b4f0f562eeb3593803173e0ce", "d404a506c744f0ec9c4cd6257c5a3603",
    "4e80f31a6f36a7f8af0c317d32adaa8a", "3c737021b739bd3d258e5a80c7204c4b",
    "4639a2ec8a7f1fe78b889d624d44885d", "dc0272e932e437d7f4d14597e660f855",
    "b015d069984a23f0d4347f66ec8941c3", "e40c6a3f6e654fc0e699ed85b0dfb40d",
    "4d5a2ad7dbc4e97a2472f6207c2d0484", "366b1510acb3399bc2a1e7b5b459aeb5",
    "ff65088bcfaec398ab4f6451cc1d45ec", "d6a4463f00de5c3563767572ae3d6174",
    "f427ecde3e41684ba59e0bd101731a28", "025cc31c5929c51a116d0016cb948f09",
    "84327df044e174692cf9c8ca052f6e9f", "6b61790eff1e9cf80b090a7560a968e3",
    "4430f8559a159787abeeddb2dde06ff1", "3b99121727962d1758efc10b06a2068d",
    "d1ad4e83b6a5122bc6e57a78fbd986e0", "fbe11c3dfe7175a12eab8ca63ce802d7",
    "6437f5ec27ea973314a195640116f336", "c0e6ad088655f6fe7c0828dd624ec390",
    "b9aaba625acf369ed74bbe77e6116ac7", "da76c9c88d1ac089804456af10f5fb53",
    "a33665523ef02139ebe9ea2adf4321c7", "300b499b5ca6c31a03219a39ee587a30",
    "5c7fa247db86a99849787fef17af9924", "6d4a3341ce18688ea1e9300cd8520548",
    "0371ea9273bec1475b45e522e4b1b4ef", "586831b3f8361050b49c3b3995091a36",
    "78e151e25f069f28d4490ad526f14431", "7a9a1103ee83f53d12a8f216af9418c2",
    "09babfb071d139cb001f837cc7350524", "bb158710184142061877b51e57a764d5",
    "bc54f27aafb48fa6a2853b80f17f58ee", "379674b53d70f9ee993e1de72d36d310",
    "fc3f1b856c7028e4b3598080ce64a656", "c3f7764c5b678eef252f59cf0d9f04bb",
    "360f3c8f19a5572ad23c8e176d113600", "734eb93a3834c1601bda0492e7e4586e",
    "74fee0e9ff2ebdf021e0bd5026c619bf", "40a260948dea4faa3b097adaf088f94e",
    "362c1bd011a673f28d14dedb30be846e", "7510ed50416446abf95cffa23af5f6f4",
    "30252ecf136b7c053871700761b3f743", "2ba2a4618a76e90cca672b91e9e4fa16",
    "a3a378f4d85fc7c264c8e531bff53b55", "29dc8a4fb8c2fee0241260ed4ad1e87d",
    "e8adc85647dd81d4106c09b972d2e822", "034ceb5722e2c3ba7fba195410e5ca30",
    "3cc08834c25982807884d9bc6cb569d8", "7e940d437c77e01e0647dfedcd894a29",
    "e60b3c4db1e9c21c63573ff03e224774", "ef3c2b6c2492c27a4fc8e9560f91b123",
    "46d66799a97cecac1db956e450275779", "a0f8b161ef94ff66b8d91274b9e9d4fb",
    "e9592983108effe4a2ebee47e2fbfce1", "2940e6e39eab27dad9f1f30ccd97fb09",
    "1d11aff8ec968c45efed53d75fd64e6b", "5d599c3c36374aab2e6d02c36017f67f",
    "a76d947457a499a8a9aa4d20db084e9b", "e204672b79356c06b64be8d8b25396c1",
    "791398e16f27a35d70cb6af7c2d5bcf0", "a344ae29365213dc98f076a4f7a2322e",
    "5b7d8f6fab57f39abf84470805e69b5f", "2cd25b33324426ad94c3251f06f90cf3",
    "d2fd443f2a50e50f3e003e616a6591e9", "fed69db50b8a85ebb925a6cd0421aff3",
    "aa6ba4b7b8f9c2f561bdd1307c66e300", "1078da9217fe5a82bf8d5108e27e0d48",
    "a91c11372de2ce83240ab57a8b888b20", "25b32ec784525a28fc87614baf287e07",
    "902c3510c62fd6a4ef02cdd06ffdb432", "70e096161b93db85a1082c0466df6c0a",
    "b8479c76beac0af58215e577001332c8", "46e70efbdbf203ded39bb9c3a48db6cf",
    "03818607d728ca2c2738259634305c14", "33c468d3e41a430961cf4f94c97df93d",
    "577a86c312c132a51b6baca2ae4e125b", "b3da4584fdf34d57758f450c88572e0b",
    "ed1f5845b0d71959959f587d507a8359", "487eaad6afce929fb063e962e045f54d",
    "5102695fc4a9844d60e8ed72c0dff5d1", "b222d5084ac606db7b64978555326f9f",
    "cbe529fa58ee2acffd080d236da814ba", "249902e301fbb0458c90fd9b083f4558",
    "ae4a5b918714653f106f72fe81e2c590", "9acbcb57319f9eba7976033a39f7d952",
    "974dc36853f53b63a4ec0132764ca04b", "1a7a617961b9f4f6733ea705fae4fa77",
    "ec17ef209b0cd61db4d8f77bc3e56167", "535a802a6fe1698c9e21f4f903b33fd9",
    "65290a0828363ac09d765e419fb69f6d", "9de62194cd4495c9d30c088ba61ea5ef",
    "258cba6da89583e85d94337fbfaf7f5b", "a4dd3f956441c21b1a4e4822eb4d7a59",
    "9dadc7aa040b4a806ffe73e81b637fb3", "79c5539621bfdfc4ddf957bc36d8b9ca",
    "482723c3df572f2b64d0e29eea8838b3", "df0f143568de975508dd9bdfd96b9f63",
    "d1c14f277f2b9c82087e79e5a57d1d13", "631e2b7dc14e9dd0e328e230e3e2b3fb",
    "c6b5cfea1fa1785a1c2559e30f0946be", "68d353956af3e13b720bf5f26f4d2eaa",
    "01891fa800c0ead8b0774d261cc609db", "b5c5dbca90842d30443f64ec5a371195",
    "409f1e7c0b5859a84112cf68649a260e", "75ad7a2e77c77599d813f2fab7f5c5ca",
    "1a535b66ac17faf6660d3257380841ee", "522631c5b8a7804459ac2c7873f910a3",
    "eeae95d0cc2bebb5e846963877671a17", "b6efc7744ed26e8193b633abfa3469f8",
    "cb242ab7481a6767c0c0f5a60ef4cdcf", "0c1bfe5778870571caf21ecd4377b28c",
    "8affc94aa6bf054f57277707199b8175", "0d971004c2feacfc506c11b9d90e8b1d",
    "3124a06753e6d100d83cc2687a19255f", "675f1d36a12a4f124a29c6465a314cd1",
    "a6b310abe43e3e7eed2df21216235097", "981e3a602bb96811b5635c95ff7296e2",
    "39a9314443967f4922af003ab672e811", "03d85e12849d81aa52e762596bf68235",
    "bdb5b4beec4341d49aeba33ac6ecc6b0", "16ec30ec6cd609a2944f6de09134dfb6",
    "c59b8eac260659406c47bec883a7de39", "223ddbcf221e8a7d6ad047c430a12104",
    "b5a9a14b89273e48a5b1cfdba0ab4067", "1e153b1ef5a4e22f7c45d833aff07862",
    "12bcf23bf7c5e1a15092ef950a16da0b", "4023308b115bd58d9338e69c052b8e7b",
    "1949833ee2041925455a4b4cfe30e3f5", "5fbf21caafc510386b02e63195ad0cf8",
    "f5ff10cd94210bd56b17b224bad6bf27", "25a80f061485f90dd1e0ccd25bb9c169",
    "c7d0a4a099a40115de0c89a556b9ae70", "7b6632882a5505fb50065e535a213cf6",
    "0c18c1675874c2029c1169fa2777b874", "c6b2e006a8cf7b0a78edefd694af1eed",
    "8fdf1e4f131a75b06dc93d9526a50e68", "bb916a3909979f43ee97f453f06791ed",
    "712958ef11bb73f732ab0edb696703d3", "6007d548305d088d3a6853c7e70757a7",
    "c6d2593ef3eb1d2c31865ced6120f37d", "ec2256b7d4288e8467fef95d92607890",
    "32d1f69f034245761f2b1d1f15f6dc9c", "3dabb702247f1f53b69e38a8965c6b65",
    "8f3059838229c943aa9119ff184cccf4", "9d1b7bc03216bff2f43c732873f24c13",
    "fa47891ebeae3d9bfb4a3d794a9a80d2", "2b407763c860b2b73550c2321fd6109c",
    "4880467ccca7620a371f77e76bb8417e", "fc33496d0d2b60d06bfa9aae5ec05779",
    "f30e52d6e3d01dbecd04f3ff001a4778", "ee194a3c69abfcade3273522064480ca",
    "0d63756cc90f0a7d9f91508bffcfc14a", "46f2bf0abaa5f727049a7f41061a9e60",
    "c2d3e91069023ef1fcb6be43a9f2fe9b", "72a8b8e845fad36008de8a1c7797da9b",
    "ea85be812f2ac95c8f9887e6078735a1", "4d029b497e4bff19b5b4071dbfc73a66",
    "3aae615997efd421230e343dfba08d33", "8dd4259a68140ef943ed7f5a0fae657d",
    "884c2a5efd181e753a88a0fbbcb05c63", "0fd42aa42d0284ab21874b8b4d2dbc4f",
    "1ec01d3cbc09cbc21bdea12e35f6a8c9", "e07b82747c39bcbd53c065c6c8e63528",
    "319d0b348a3594fde34a1d250e7a8d6b", "37976ef24a43f45ed6b04d3b7651dd7e",
    "372d4a435af6ab465e90277e7cb39e2d", "6eec379f97084c4f2c046f22062dc67d",
    "6d718d4c020d4db7b10bb459132d0a26", "4dda7c3795df16d43fa9ddfb67e2f199",
    "7563fde46706af600e09b88e1914f7af", "e004bc1bcc03645e10e8b35af3eeab37",
    "436befcd5d6f391e9eedeca8e272b933", "672fb506e30d170cd4c718bc4ae8ae5f",
    "75de6ca5535982d181536d601170fc20", "bdad7fd1b1ae9dff91b534f885818a06",
    "7585f760aaaefabdec8177f83f900978", "a27dba93283e5199190e714fada5156e",
    "d3586be06cf03e79b592bf39b0364963", "ff7686d81aee134c89c350c893ae7dc1",
    "0fc29191d8bde681ac042e70f8b383f2", "28efc8d21085bd41b49b52e587a1ee60",
    "2b660a20146fab4cfb152fe3ff26da89", "f93eb1a037fe7cc13e666e6f69ae2c15",
    "8b8186df0fbc0ea23b544ebe544c19f9", "1542622a9a3cf83fe805a1e290cf2456",
    "1b92a0789733481524b33c9d7ed25117", "d5815ac65149b333e74733427b72f0c1",
    "d44a2053cd7bc44f0a804d18b7097475", "f25d6cdca61659fa57e3306d881edb4f",
    "6e6f3994290b52394ae7d6a36eb5dbcb", "9de85769b79fc2ec2d8d5432157064c8",
    "269b6fa00ca586d6d1e649de1e7f268b", "486d898932d15ba88a328a1cedfe552c",
    "12072bf34c9c3e4807a3aec79624c7da", "d34026943aa35aa484547ddc3e203c94",
    "136e08dd65ebad13990a98fd5071d263", "c7214edf2296945b1a4ff12616eefc89",
    "5c7aba2da6dc60e6f6f7fd1431714200", "ca4c77153540fb0730c05b1ba332f41c",
    "6945d4c68450d2dd8d2636b81555a786", "1ee0e0b2bbab609646c9feb55d120902",
    "cf42c59e24662f46ccec0a73b49c9921", "3e46a93b90b200e04e9d2827355fc492",
    "12fc9b305944e8b519ebb029435dcb0f", "dd8339d352ee35ac4659d2b743848a2c",
    "3a6b583414298b18963ef2c96b33be31", "38a5edd4f4c0c03274f85198b05a2e7d",
    "d03f4b4da908472d5a0f544dd2b1fb18", "1c5480cd5448a98203727073c2e134b1",
    "8a57df8e21ec3290c7f6aa2de59aea61", "163c2b81a32a1191352787baa0d7c22f",
    "32e9126ff289c1af9853eab63b5e0b35", "0557e56db7a82dd0abbdcdd7ed5c0860",
    "9b14831010437d15cf05daf5ac8d77b0", "df73a3e9e06ff1a449cad48cebf4a71e",
    "0085e0e951f7d3027a4c10ec2158c4a6", "83d6cd428a30a226d9e92aa246bf719e",
    "8a9f692f7249bc9613ae978d09fe5557", "7ff5e2554f137add730499af921549ff",
    "26935b0f0cf6ff524e4b705b92903ba4", "c14bf9a5fcea5d7aff577222c14f0a3a",
    "9d93910435a232b855b6344cf97aafae", "ed4ead99223fe0bcb862225b055b6960",
    "9327c1a6cfcb65a8cac09afbddd2cdb4", "34b75b6c2bf6ff34daf8e9829fe96b5f",
    "392d5fdffc89c6dfb5fdfc5d3132c498", "5c21b040388f0c3b310cb380db6f7503",
    "0e98f936f8d55541e87fbb46217a360e", "95e2b06394d963d32102ae466ebb1148",
    "36baab1a4dac9d5ff8549e1a3aa5e00d", "7710e8a19086690a07a69afdcc42261a",
    "784f726b384d31e2c4c118bfe78feaae", "fc90697cd5b8f6f1f9f4892ed96bd438",
    "fdfffe1682b374861af3dbe25d8f45da", "ee6d6b7654e35bb0f5b4b0b0d2deeeb4",
    "23f9a8f689604b3d962aceefa82e1c84", "df9d811b93b0c547046e3ecaaf453ce9",
    "43549863a7a37bd1f05d129681949a4c", "8414a7f72fd1efa7964781ce734b3c84",
    "580f45434a1ab4289c2ed44081ce5fbd", "7fd1856d73300c81522e23f3925e319e",
    "906f5f71b90a9b00177e00f9fc32f791", "4a3450f81c5ff12e2bc60a63a6f3b3f2",
    "c488c52c66eb3060222bbfae61725606", "994ae7a8228a0a01486289ddcc3d6780",
    "87a8de1c100343277dc7785b8efdfc80", "2c9c4840b15235878af38731c02ba980",
    "a3c4a29f452c00dd1fab64ea29a2ddf7", "ac67b8435a08deaae4d9429322cd065a",
    "fc4d7a3fb6e8aa449da058c67844f20c", "28db9aaadc2f6cdd24c0e332b70019b0",
    "5e70d7d51281947e233003b5a6cfe6ad", "8792f042160fbe4ad586bd01c5c217f6",
    "b5689cb3db767b4a5e5637885f29bc2b", "91b4d410feca72eb7eba726d8c94094b",
    "68f0311cfdb7bd700a56a5f0bfe39272", "649a6058be8592a8d79476a84ee20d06",
    "0aa9b4b5dcdc3a619e4c1269baa4bf37", "877e44ef7e7ac17617efee45b0dee640",
    "fde2d8ec715634d01d95b0a5fcf90bc6", "ed4229856db9196793cbe0b699c2585d",
    "f3a662c1f4fe603765fa4f227a2b6d79", "7ee55bf8cc5493c5d5f9e858292504d5",
    "886bb40ea08d9a58c2b5a03f71471a6f", "6d4538c8b7ef3d1459300222b4561e00",
    "45c85ac173580e3fce2f8642ca0712dc", "685e92c83aacd9e97ca9723fbb2e8988",
    "65ea42a14ff1be392785338347f2ba08", "3af677f36e680f93c61bb3a141e50e8c",
    "d94283307a35297f150f361dab9dec26", "f1b0a5efdae4a4359f6a419d382595f4",
    "6d5fc84adbb371d364a53dc924fe7ac9", "28fd598006c93cee142de49fff7a7c3d",
    "f81aabea2c3497c30c335248857fa9e7", "4d36bd6d44a88d6a0a9c32d5eae45305",
    "85b39a5c846a5b03e6c42178c4bbb92e", "7f8267f333a3a2c971f1ce2490d20b07",
    "18d014d4726b7184f1bcc3d275afe51a", "1f6c68b23fb02687e728e8c83c334074",
    "cc39172ec4298b9496fbf83a12884624", "2d5f3ed9432b98c181a1549fd6573da5",
    "bf1f943c0b2d0f945fa7867caf35e149", "3f9ec11b8ae3ad6656986e2ef3ed091b",
    "9b034d7bc0ed1854917f1dd5f8886c61", "8084ebb9c060779ad20d8c88c8ffe65f"
  ).map(hexToBytes)

  val whiteTurnMask = hexToBytes("2b8388b047f176fff8d626aaaf278509")

  val castlingMasks = Array(
    "8dbc6f870cc7674031d71dce64b2c310", "c99e7c5943b3f9d6f165b587df898190",
    "70e08357248f0443a57e6339dd2cf3a0", "a37864d81d8346f91ef6e6dbb1961ec9"
  ).map(hexToBytes)

  val enPassantMasks = Array(
    "d119b20d222046ee70cc73d90bc26e24", "0b567120b675eff7e21a6b35df0c3ad7",
    "bee3aa7dafeddba5003a93d8b2806962", "c8a93e7560c0c7901c99ded33cb890a1",
    "91c176e88aa56452cf3145de0add4289", "16ec61cd0b0e192bd0e4427a5514fb72",
    "fee16f89f29991ad77c621cc9fb3a483", "cd29913e2af30d9a67a34dac4356550b"
  ).map(hexToBytes)

  val crazyhousePromotionMasks = Array(
    "d0702818d494e16e72b3d2aacdfc6c82", "3266754535342391514c869e81f21cc8",
    "7d9222d9423b2de1c7cd969b483d16da", "c68ee77cd59630e936138f35691041e0",
    "1470a42b71497680c553edaa15372e00", "ad53264919194eca7989143c311f667c",
    "402fc941dcaa32aeeb27f596d3aa6099", "a9669eb65321e0d7c9b528fe52268438",
    "0dfa46320d99c723770db3ad7b5489ce", "7f475748a1829871335fe9afd5ca2a3a",
    "6abc62bd1f3f5d3b371b8f6fccbf3c86", "4b2e8d79aaf7088b0ffb8dfd0dfeda0a",
    "85f78f5a0c7d7091e84bdd000827dd83", "54ec16bfd214d4dc95843ca5892b8fd3",
    "1d3ec632718122754a3d7c09497ab2f2", "f76d2c18dc4b9cb90d37ae19b80025e2",
    "f0c6957fe0138e13d5466e48dc3ca24a", "c01459f6aac525ad99f55e3a728a767b",
    "30d9244419c625a01244bf1413f836c2", "ab3e71b345e0b5647a8d66183c131432",
    "03ce61dc1d19e4d6fed23b61fcd96ceb", "2dc47255790e0fd25f1cf92613cc4cd3",
    "7bbd5865efb887f458724ace208cd24b", "550c3b1c9d8ac55276f0cdb3b65bdda7",
    "68eecd2afcb52bd2ba971e61b5d5448b", "333770ac0e1753ee54ae902e80510201",
    "543b3bb860951d5466549d84ad1d3151", "e5a5dbd3a5c070456a157334af138e60",
    "085e880ba5b8d597028da4964ca31858", "a2e08447c3ab0068af53afd06f4f6f6c",
    "468e162957bae91ddcb5fb2d847b52a8", "2f2c83af2ccb0c86049d92d882d8ee85",
    "eec4bef10cecf92761db86710c5d5f6d", "21cae3da82d58904b1b39b2c1aa5723f",
    "e1c8e3c42314ab73ba30908d9fd840c8", "18dee1defa23936ec4f8a5d4b399a1ba",
    "27bfbe7882ac7188fab9ad7058e3c158", "4f6afcc1e42b603d7318a86705938ee6",
    "8cb2f553788b4e02c0275477f0dc4b43", "27fadb1cfd2c3925aa40d1963f280b84",
    "19025f1b1adafa7ee84a7210d062010e", "9d775715d8ad11951df8e48f14d1a540",
    "bfd9334474b8c5a31e5ae02c34b7910e", "716d05814fa69ae1c76dc94af2058f42",
    "071e44688864934b144ada04fff8ff7f", "6e5c148c978128a08c1ac78aa3d57eaa",
    "9e2aca0f71c079654fd6129ddbf6c9c4", "990dcc48edae154c26bf80ee1a829856",
    "9a7a7e410014edad4b0ed4a7600d8ebc", "3b4b7393dbd6c62d4acf24fd99e0f592",
    "0b79e2d9de79da6d556f3e789fcc5e40", "82e6a9997c4b22c0311f3eb68f0e2431",
    "fc0d770840c075796c5f6f7fc6eec79a", "5e30b32d2952c6ff5bc5d97162e01d70",
    "c1d002065a0ecad4adf01cc4c6b885ec", "520cfee9df01ebd2e87d847fef355418",
    "c4533f5523dda67bc06cd29e8b664813", "ffeedb1a3f45c698beca04d42181de4d",
    "618ca396312509df396c17e438378ee4", "1528d65e831e2c76a224706c57e7ad10",
    "c3209e0bc03fd4e0b02a9ed2fe1d3f64", "700940191774fc6437544e71316d1a8c",
    "987fb6b8d6d877d7772873fbf043eb84", "5ff2907322f8347d009eeb030ade865c"
  ).map(hexToBytes)

}

object Hash {

  val size = 3

  private val h = new Hash(size)

  def apply(board: Board, color: Color): PositionHash = h.apply(board, color)

  def debug(hashes: PositionHash) = hashes.map(_.toInt).sum.toString

}
